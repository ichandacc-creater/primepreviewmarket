<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prime Preview Market - Auth</title>
  <link rel="stylesheet" href="auth.css">
</head>
<body>
  <div class="auth-wrapper">
    <div class="auth-card">
      <!-- Logo -->
      <img src="loginassets/logo.png" alt="Prime Preview Market Logo" class="logo">

      <!-- Tabs -->
      <div class="tabs">
        <button id="tab-login" class="active">Login</button>
        <button id="tab-signup">Sign Up</button>
      </div>

      <!-- Login Form -->
      <form id="login-form" class="form active">
        <input type="email" id="login-email" placeholder="Email" required>
        <input type="password" id="login-password" placeholder="Password" required>
        <button type="button" onclick="login()">Login</button>
        <!-- ğŸ”¹ Forgot Password link -->
        <p><a href="#" onclick="resetPassword(); return false;">Forgot Password?</a></p>
      </form>

      <!-- Sign Up Form -->
      <form id="signup-form" class="form">
        <!-- User Role Selection -->
        <div class="role-selector">
          <label>Account Type *</label>
          <div class="role-options">
            <label class="role-option">
              <input type="radio" name="userRole" value="customer" checked>
              <div class="role-card">
                <span class="role-icon">ğŸ‘¤</span>
                <span>Customer</span>
              </div>
            </label>
            <label class="role-option">
              <input type="radio" name="userRole" value="supplier">
              <div class="role-card">
                <span class="role-icon">ğŸª</span>
                <span>Supplier</span>
              </div>
            </label>
            <label class="role-option">
              <input type="radio" name="userRole" value="admin">
              <div class="role-card">
                <span class="role-icon">ğŸ‘¨â€ğŸ’¼</span>
                <span>Admin</span>
              </div>
            </label>
          </div>
        </div>

        <!-- Customer Fields -->
        <div id="customerFields">
          <input type="text" id="signup-firstname" placeholder="First Name" required>
          <input type="text" id="signup-surname" placeholder="Surname" required>
          <input type="tel" id="signup-phone" placeholder="Phone Number" required>
          <input type="text" id="signup-address" placeholder="Residential Address" required>
          <input type="text" id="signup-province" placeholder="Province" required>
          <input type="text" id="signup-district" placeholder="District" required>
        </div>

        <!-- Supplier Fields -->
        <div id="supplierFields" style="display: none;">
          <input type="text" id="signup-businessname" placeholder="Business Name" required>
          <input type="text" id="signup-businesstype" placeholder="Business Type (e.g., Electronics, Clothing)" required>
          <input type="text" id="signup-businessaddress" placeholder="Business Address" required>
          <input type="tel" id="signup-businessphone" placeholder="Business Phone" required>
          <input type="text" id="signup-businessprovince" placeholder="Province" required>
          <input type="text" id="signup-taxid" placeholder="Tax ID" required>
        </div>

        <!-- Common Fields -->
        <input type="email" id="signup-email" placeholder="Email" required>
        <input type="password" id="signup-password" placeholder="Password (min 6 characters)" required>
        <input type="text" id="signup-country" placeholder="Country" value="Zambia" required>

        <label class="terms-label">
          <input type="checkbox" id="signup-terms" required>
          I agree to the Terms & Conditions
        </label>

        <button type="button" onclick="signUp()">Create Account</button>
      </form>

      <p id="auth-message"></p>
    </div>
  </div>

  <script type="module" src="auth.js"></script>
  <script>
    // Tab switching
    const loginTab = document.getElementById('tab-login');
    const signupTab = document.getElementById('tab-signup');
    const loginForm = document.getElementById('login-form');
    const signupForm = document.getElementById('signup-form');

    loginTab.addEventListener('click', () => {
      loginTab.classList.add('active');
      signupTab.classList.remove('active');
      loginForm.classList.add('active');
      signupForm.classList.remove('active');
    });

    signupTab.addEventListener('click', () => {
      signupTab.classList.add('active');
      loginTab.classList.remove('active');
      signupForm.classList.add('active');
      loginForm.classList.remove('active');
    });

    // Role selection
    const roleOptions = document.querySelectorAll('input[name="userRole"]');
    const customerFields = document.getElementById('customerFields');
    const supplierFields = document.getElementById('supplierFields');

    roleOptions.forEach(option => {
      option.addEventListener('change', (e) => {
        if (e.target.value === 'customer') {
          customerFields.style.display = 'block';
          supplierFields.style.display = 'none';
        } else if (e.target.value === 'supplier') {
          customerFields.style.display = 'none';
          supplierFields.style.display = 'block';
        } else if (e.target.value === 'admin') {
          customerFields.style.display = 'none';
          supplierFields.style.display = 'none';
        }
      });
    });
  </script>
</body>
</html>
